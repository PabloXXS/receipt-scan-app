---
alwaysApply: true
---

# Cursor Rule ‚Äî —Ä–∞–±–æ—á–∏–π —Ä–µ–≥–ª–∞–º–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ò–ò‚Äë–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ Cursor.

## –ü–æ–ª–∏—Ç–∏–∫–∏ UI/UX –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

- –î–µ—Ç–∞–ª–∏ —á–µ–∫–∞ (show):
  - –ü–æ–∑–∏—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ –≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î (`receipt_items` –ø–æ `receipt_id`).
  - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏–π –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ—Ç—ã.
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–µ–∫–æ–≤: `purchase_date desc, purchase_time desc, created_at desc`.
- –ü—Ä–µ–≤—å—é –≤ —Å–ø–∏—Å–∫–µ ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (–±–µ–∑ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏), –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥–µ–∫—Å–∞.

## –ë—ç–∫–µ–Ω–¥ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ Supabase

- –ü–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ Edge Functions –≤—ã–ø–æ–ª–Ω—è—Ç—å:
  - `supabase functions deploy <name>`
  - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–≤–µ—Ç –∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö ‚Äî –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.
- –°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `supabase secrets set` (–Ω–µ –≤ –∫–æ–¥–µ).
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ö–µ–º—ã ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å `supabase/migrations/*` –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `docs/sql/0001_init.sql`.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å

- –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (email, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–µ–∫–æ–≤).
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–∏/–ø–∞—Ä–æ–ª–∏ –≤ –∫–æ–¥–µ. –î–ª—è –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî —Ç–æ–ª—å–∫–æ `anon` –∫–ª—é—á.
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –±–∞–∫–µ—Ç `receipts`, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ URL —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º TTL.

## –ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —á–∞—Å—Ç–µ–π –∑–∞–ø—É—Å–∫–∞—Ç—å:
  - –Æ–Ω–∏—Ç‚Äë—Ç–µ—Å—Ç—ã: `flutter test` (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã/–∏–∑–ºW–µ–Ω–µ–Ω—ã —Ç–µ—Å—Ç—ã)
  - –ë—ã—Å—Ç—Ä–∞—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫.
- –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ UI ‚Äî –≥–æ—Ç–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é (gen‚Äël10n) –≤ –æ–¥–Ω–æ–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö PR.

## üé® –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

- –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π `.resolveFrom(context)` –¥–ª—è CupertinoColors
- –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ —Ñ–æ–Ω–∞
- –¢–ï–°–¢–ò–†–£–ô –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- –°–º. –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ `.cursor/rules/dark_theme_support.md`

## Git –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ö–æ–º–º–∏—Ç—ã –ø–æ Conventional Commits: `feat:`, `fix:`, `refactor:`, `docs:` –∏ —Ç.–¥.
- –í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö/–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å `docs/` (api, data_model, security, architecture).
- –î–ª—è —Ñ–∏—á ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏: `feature/<short-name>`.

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

- –ó–∞–ø—É—Å–∫ –Ω–∞ macOS/Chrome: `flutter run -d macos` / `flutter run -d chrome`
- –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞: `flutter analyze`
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `dart format .`
- –î–µ–ø–ª–æ–π —Ñ—É–Ω–∫—Ü–∏–π: `supabase functions deploy analyze && supabase functions deploy status`
- –ú–∏–≥—Ä–∞—Ü–∏–∏ (remote): `supabase db reset --linked --yes`

---

–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö —Å–ª–µ–¥—É—é—â–∏—Ö PR, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ü–∏–∫–ª ¬´–ø—Ä–∞–≤–∫–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí —Ñ–∏–∫—Å–∞—Ü–∏—è –æ—à–∏–±–æ–∫¬ª –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–¥–∏–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã UI/UX –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
